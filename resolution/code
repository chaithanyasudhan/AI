!pip install sympy

from sympy import symbols, Or, Not, And
from sympy.logic.inference import satisfiable

# Define propositional atoms (grounded)
food_Apple, food_Veg, food_Peanuts = symbols('food_Apple food_Veg food_Peanuts')
likes_John_Apple, likes_John_Veg, likes_John_Peanuts = symbols('likes_John_Apple likes_John_Veg likes_John_Peanuts')
eats_Anil_Peanuts, killed_Anil, alive_Anil = symbols('eats_Anil_Peanuts killed_Anil alive_Anil')

# --- Knowledge Base (grounded CNF clauses) ---
KB = [
    Or(Not(food_Peanuts), likes_John_Peanuts),      # a. ¬food(Peanuts) ∨ likes(John, Peanuts)
    food_Apple,                                    # b. food(Apple)
    food_Veg,                                      # c. food(vegetables)
    Or(Not(eats_Anil_Peanuts), killed_Anil, food_Peanuts), # d. ¬eats(Anil, Peanuts) ∨ killed(Anil) ∨ food(Peanuts)
    eats_Anil_Peanuts,                             # e. eats(Anil, Peanuts)
    alive_Anil,                                    # f. alive(Anil)
    Or(killed_Anil, Not(alive_Anil)),              # h. killed(Anil) ∨ ¬alive(Anil)
    Or(Not(alive_Anil), Not(killed_Anil))          # i. ¬alive(Anil) ∨ ¬killed(Anil)
]

# --- Negated conclusion ---
negated_conclusion = Not(likes_John_Peanuts)
KB.append(negated_conclusion)

# --- Check satisfiability ---
result = satisfiable(And(*KB))

if result is False:
    print("✅ Conclusion PROVED by resolution: likes(John, Peanuts)")
else:
    print("❌ Conclusion NOT proved.")
    print("Satisfying model (means no contradiction):")
    print(result)
